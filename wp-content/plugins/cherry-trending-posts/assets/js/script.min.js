!function(t){t.fn.TrendPostsView=function(){var r=t(this),e={};r.each(function(){var r=t(this).data("id"),a="postID_"+r;e[a]=r}),t.ajax({url:cherryTrendPosts.ajaxurl,type:"post",dataType:"json",data:{action:"cherry_trend_posts_check_views",trend_data:e,nonce:cherryTrendPosts.nonce}}).done(function(e){e.success&&r.each(function(){var r=t(this).data("id");return e.data.hasOwnProperty(r)?void t(this).html(e.data[r]):!0})})},t.fn.TrendPostsRating=function(){var r,e,a=t(this),n="ftype",s=[t(this).first().data("format")],o={},c={};a.each(function(){var r,e,a,c,d=t(this).data("post"),h=t(this).data("format");r=t.inArray(h,s),c=r,-1===r&&(s.push(h),c=Object.keys(s).length,c--),a=n+c,a in o?(e=o[a],e.push(d),o[a]=e):o[n+c]=[d]});for(e=0;e<s.length;e++)r=n+e,c[r]=s[e];t.ajax({url:cherryTrendPosts.ajaxurl,type:"post",dataType:"json",data:{action:"cherry_trend_posts_check_rating",trend_format:c,trend_data:o,nonce:cherryTrendPosts.nonce}}).done(function(r){r.success&&a.each(function(){var e,a,n=t(this).data("post"),s=t(this).data("format");for(a in c)s===c[a]&&(e=a);return r.data.hasOwnProperty(e)&&r.data[e].hasOwnProperty(n)?void t(this).parent().html(r.data[e][n]):!0})})}}(jQuery),jQuery(document).ready(function(t){t(document).on("click",".cherry-trend-stars__item",function(r){var e=t(this),a=e.parent(),n=e.data("rate"),s=a.data("post"),o=a.data("format");return r.preventDefault(),a.hasClass("cherry-trend-stars--processing")||a.hasClass("cherry-trend-stars--rate-disabled")?!1:(a.find(".cherry-trend-stars__item").removeClass("cherry-trend-star--active"),e.addClass("cherry-trend-star--active"),a.addClass("cherry-trend-stars--processing"),void t.ajax({url:cherryTrendPosts.ajaxurl,type:"post",dataType:"html",data:{action:"cherry_trend_posts_handle_rating",rate:n,post:s,format:o,nonce:cherryTrendPosts.nonce}}).done(function(t){a.removeClass("cherry-trend-stars--processing"),a.parent().html(t)}))}),t(".cherry-trend-views__count").length>0&&0!==parseInt(cherryTrendPosts.cache,10)&&t(".cherry-trend-views__count").TrendPostsView(),t(".cherry-trend-rating__stars").length>0&&0!==parseInt(cherryTrendPosts.cache,10)&&t(".cherry-trend-rating__stars").TrendPostsRating()});